version: "3.1"

intents:
  # - invest
  # - check_projects
  - withdrawal
  - inform
  - check_balance
  - affirm
  - deny
  - greet
  - goodbye
  - thankyou
  - bot_challenge
  - nlu_fallback

entities:
  - withdrawal_amount

slots:
  withdrawal_amount:
    influence_conversation: true
    min_value: 0
    max_value: 100_000_000
    type: float
    mappings:
    - type: from_entity
      entity: withdrawal_amount

  account_balance:
    type: float
    influence_conversation: false
    min_value: 0
    max_value: 100_000_000
    initial_value: 1_000_000
    mappings:
    - type: custom

  currency:
    type: any
    influence_conversation: false
    initial_value: Rp
    mappings:
    - type: custom


responses:
  utter_withdrawal_amount_validated:
  - text: Anda ingin menarik dana dari dompet sejumlah {currency}{withdrawal_amount}.

  utter_ask_withdrawal_amount:
  - text: Berapa jumlah penarikan dana yang anda inginkan?

  utter_insufficient_balance:
  - text: Mohon maaf, saldo dompet anda tidak cukup. Anda ingin menarik dompet sejumlah {currency}{withdrawal_amount}, sedangkan saldo anda sejumlah {currency}{account_balance}.

  utter_submit_withdrawal:
  - text: Saya akan memproses penarikan dana anda dengan segera

  utter_account_balance:
  - text: Saldo dompet anda saat ini adalah {currency}{account_balance}.

  # utter_affirm:
  # - text: üëç

  # utter_ask_continue:
  # - text: Apakah anda ingin lanjut?

  utter_greet:
  - text: Hi! Saya adalah asisten virtual anda!

  utter_goodbye:
  - text: "Bye"
  - text: "Terima kasih telah memakai layanan kami"

  utter_help:
  - text: "Saya bisa membantu anda dalam beberapa hal, seperti: \n- Berapa nilai saldo dompet saya sekarang? \n- Saya ingin mendanai \n- Saya ingin mencairkan saldo"

  utter_noworries:
  - text: Senang bisa membantu :)

  utter_iamabot:
  - text: "Saya adalah asisten virtual anda, powered by Rasa."

  utter_please_rephrase:
  - text: Maaf, saya tidak mengerti permintaan anda. Mohon diulangi dengan bentuk kalimat lain.
  - text: 'Mohon maaf, saya tidak bisa memproses permintaan anda. Ketik "help" untuk penggunaan bot ini.'

actions:
  - action_withdrawal
  - utter_withdrawal_slots
  - validate_withdrawal_form
  - action_show_balance

forms:
  withdrawal_form:
    ignored_intents: [check_balance]
    required_slots:
    - withdrawal_amount

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
